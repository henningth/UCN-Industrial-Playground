{"components":[{"id":"_coretwoscreen","createTime":1695192291570,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#FFFFFF","backgroundImage":"","size":0,"screenType":"default","type":"screen"},{"id":"____buttonA","createTime":1695192291570,"name":"ButtonA","buttonIndex":0,"x":44,"y":274,"width":64,"height":24,"text":"ButtonA","visibility":false,"type":"button"},{"id":"____buttonB","createTime":1695192291570,"name":"ButtonB","buttonIndex":1,"x":158,"y":274,"width":64,"height":24,"text":"ButtonB","visibility":false,"type":"button"},{"id":"____buttonC","createTime":1695192291570,"name":"ButtonC","buttonIndex":2,"x":273,"y":274,"width":64,"height":24,"text":"ButtonC","visibility":false,"type":"button"},{"id":"ogfMgZ&qP70h@cO4","createTime":1695192321105,"isCoreTwo":true,"isPaper":false,"name":"label0","x":52,"y":69,"color":"#000","text":"label0","font":"FONT_MONT_14","rotation":0,"screenType":"default","type":"label","layer":23}],"type":"core2","versions":"Beta","units":[{"id":"gTFg7-@WXNv8nWO`","createTime":1697092791748,"type":"ID","name":"ID_0","port":"A","default":["A","E","PAHUB","Custom"],"pb_port":[0,1,2,3,4,5],"new_pb_port":"1","user_port":["21","22"],"icon":"ID.png","url":"https://docs.m5stack.com/en/unit/id","new_port":"A","new_default":["A","E","PAHUB","Custom"]},{"id":"OrF1EaIsZJisNgng","createTime":1697092791748,"type":"rfid","name":"rfid_4","port":"A","default":["A","E","PAHUB","Custom"],"pb_port":[0,1,2,3,4,5],"new_pb_port":"0","user_port":["21","22"],"icon":"rfid.png","url":"https://docs.m5stack.com/en/unit/rfid","new_port":"A","new_default":["A","E","PAHUB","Custom"]}],"hats":[],"stamps":[],"blockly":"<variables><variable id=\"n.}uiRJo9h4?045:wh`:\">scanned_rfid_cards</variable><variable id=\"m#uyya}H$87cK*ECb0`+\">number_of_valid_rfid_cards</variable><variable id=\"9lQorfWP-_00hQ/fhx`O\">public</variable><variable id=\"v}zCZQ`K2X(zMYv)LPIa\">valid_rfid_cards</variable><variable id=\"Zh8tg8;,s?pg*@(Ud+xO\">rfid_cardid</variable><variable id=\"BZ/Irnpux5}21$r=7;!#\">rfid_cardid_length</variable><variable id=\"20snMrxwv/_by8pCD`i=\">rfid_id</variable><variable id=\";YQ(ZA%ofsmODX/aEC+#\">k</variable><variable id=\"#FNeu=q{GX{^9!u|rS(}\">temp</variable><variable id=\",FrhZc]2j|ex/|$d_DHk\">signature</variable><variable id=\"/|.0,,jV4uEoxy`ChB6M\">temp_encoded</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"284\" y=\"386\"><next><block type=\"iic_set\" id=\".*Y3@QTxn[j1gQ`q#OT!\"><field name=\"i2c\">i2c0</field><field name=\"PORT\">PORTA</field><field name=\"FREQ\">400000</field><next><block type=\"iic_set_slave_addr\" id=\"EU{AY`Z)h[.R@Ju~}M2R\"><field name=\"i2c\">i2c0</field><field name=\"ADDRESS\">0x68</field><next><block type=\"label_set_text\" id=\"C9omBM)-*^DE]_#z*5o`\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"rE]_GcGzMUZOuA(*PS!]\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text_add\" id=\"57VH:A(vMW4^lkLDv9,|\"><value name=\"arg0\"><shadow type=\"text\" id=\"X,5nPy4W^vHC:XRcgGYm\"><field name=\"TEXT\">Available I2C devices: </field></shadow></value><value name=\"arg1\"><block type=\"iic_scan\" id=\"0~=Jc`7#YLrEn8p/j/?8\"><field name=\"i2c\">i2c0</field></block></value></block></value><next><block type=\"timer_delay\" id=\"{~mp@lJ3}5UKMC(bLds,\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"a/Kb=d^]7C][9H~T.43U\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\" id=\"{mJ?kYne.^OCE]M~9;3V\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"unit_id_get_info\" id=\"LD0(`O,Ce]u4tXUIt`9W\"><field name=\"VARNAME\">ID_0</field></block></value><statement name=\"DO0\"><block type=\"label_set_text\" id=\"uRJ5Xlshbu74yZ$nnKEK\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text\" id=\"}T6VBpx:aUP2IB|}kY5`\"><field name=\"TEXT\">Read Device Info Sucess</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"label_set_text\" id=\"bF{vP;?9z:YVSdu415V*\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text\" id=\"t@xy?A,h4N[9R:yABpda\"><field name=\"TEXT\">Read Device Info UnSucess</field></block></value></block></statement><next><block type=\"timer_delay\" id=\"X%x3xr|WV.7GN6LqAp9Z\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"5NBx%$@Mw!`%Vo+iSrtn\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\" id=\"}|{7Kn(pJ[;FzRdR-m+w\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"unit_id_read_config\" id=\"8:UHIp{#n[bL$7C$v{;Z\"><field name=\"VARNAME\">ID_0</field></block></value><statement name=\"DO0\"><block type=\"label_set_text\" id=\"$i9)`-(.3rQn}.k9L^|Q\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text\" id=\"aK[@}igz)ZH8qiESoE-`\"><field name=\"TEXT\">Read Config Sucess</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"label_set_text\" id=\"BS_;AZAVBm[J]r(%xp)K\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text\" id=\"vcoacGVmTpjG4J+~j3oC\"><field name=\"TEXT\">Read Config Unsucess</field></block></value></block></statement><next><block type=\"timer_delay\" id=\"lYC}_CB1NX#0[n|WVR9G\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"Tw^tD[J4Gfr.^5m7$r+U\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\" id=\".ww2Sz!;/pov{?D3iBjx\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"gGC8=+PN?X@687NI^oLZ\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"unit_id_config_lock_status\" id=\"v?7lTpVs;k(z:o9/1,u4\"><field name=\"VARNAME\">ID_0</field></block></value><value name=\"B\"><block type=\"logic_operation\" id=\"Rabb@cR3}{3VI+14Gzn_\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"unit_id_data_otp_status\" id=\"+_5[MyOEno1:uai*(55;\"><field name=\"VARNAME\">ID_0</field></block></value><value name=\"B\"><block type=\"unit_id_slot_status\" id=\"i92K(g4),K)EfRr^,6f@\"><field name=\"VARNAME\">ID_0</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"label_set_text\" id=\"xTo,!yPXM^D#vcv,_GDN\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text\" id=\"]UBNMDe)jY8Z|*zN*4I7\"><field name=\"TEXT\">Read Config Status Sucess</field></block></value><next><block type=\"controls_if\" id=\"W*f*.@7oXX3p:N,zKA^p\"><value name=\"IF0\"><block type=\"unit_id_generate_public_key\" id=\"Y6x.xh0{B63MOcfG=zz+\"><field name=\"VARNAME\">ID_0</field><value name=\"slot\"><shadow type=\"math_number\" id=\";/:~mg`.P@jiJrceRu4;\"><field name=\"NUM\">0x0000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"timer_delay\" id=\"l1??Ns}*(4h^hmy3+36N\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"0R$Js5mE%,!N}-OhgcVr\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"label_set_text\" id=\"N2Y5o58cssIj%5RssNM%\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"zrtw)RhT*=?i$l2=T2@`\"><field name=\"TEXT\">Set Public key: Start</field></shadow></value><next><block type=\"variables_set\" id=\"gbT!I62Db^wP^BFjvr1H\"><field name=\"VAR\" id=\"9lQorfWP-_00hQ/fhx`O\">public</field><value name=\"VALUE\"><block type=\"unit_id_public_Key_64Bytes\" id=\"Zc$8{YW5PWLR30fF*;Q?\"><field name=\"VARNAME\">ID_0</field></block></value><next><block type=\"timer_delay\" id=\"v5ir*D-^vlT;)2CX%d$E\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"8LljQ8MTI.LP}.RWhwsJ\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"label_set_text\" id=\".__RU_60!3vL}XG+9TB#\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"$(3MI)FoBU5q-ng%!Yb$\"><field name=\"TEXT\">Set Public key: OK</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><next><block type=\"timer_delay\" id=\"/g)g9B@TR@4H@jThR(db\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"(P4f=e_uf+(f?m:-/DnL\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\" id=\"XO7)D~Dwm8,5EGZdc-co\"><field name=\"VAR\" id=\"m#uyya}H$87cK*ECb0`+\">number_of_valid_rfid_cards</field><value name=\"VALUE\"><block type=\"math_number\" id=\"hDY]as?-w,OLat6^~j.S\"><field name=\"NUM\">2</field></block></value><next><block type=\"variables_set\" id=\"V9Ve./{M-pnR{)WmGijO\"><field name=\"VAR\" id=\"n.}uiRJo9h4?045:wh`:\">scanned_rfid_cards</field><value name=\"VALUE\"><block type=\"math_number\" id=\"1DBVcQzc!3%V1PreNw`=\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"]Ora5aiJi~^-3N^h+uW|\"><field name=\"VAR\" id=\"v}zCZQ`K2X(zMYv)LPIa\">valid_rfid_cards</field><value name=\"VALUE\"><block type=\"lists_create_empty\" id=\":v!7r4;n1`B1-B^.:;_l\"></block></value><next><block type=\"controls_whileUntil\" id=\"1E!}#2,mY(j)}%`HS]?b\"><field name=\"MODE\">UNTIL</field><comment pinned=\"false\" h=\"80\" w=\"160\">Read all RFID cards whose ID we want to use later as valid stations.</comment><value name=\"BOOL\"><block type=\"logic_compare\" id=\"xZ)j5(~t0fCF#l5WADA~\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"re`|,Z`B`ax4Z[Uf7b:m\"><field name=\"VAR\" id=\"n.}uiRJo9h4?045:wh`:\">scanned_rfid_cards</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"T$4VWic86djbv~u%)bo.\"><field name=\"VAR\" id=\"m#uyya}H$87cK*ECb0`+\">number_of_valid_rfid_cards</field></block></value></block></value><statement name=\"DO\"><block type=\"label_set_text\" id=\"kf.R90#6QahRS=P-4^Uw\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"1I^[r1D||MpD6a6uXO|K\"><field name=\"TEXT\">Ready to read cards</field></shadow><block type=\"text_add\" id=\"TuQC{f@drSjo=ZB8)V(w\"><value name=\"arg0\"><shadow type=\"text\" id=\"(*M,?uj~o}XU_6_.exDX\"><field name=\"TEXT\">Ready to read card </field></shadow></value><value name=\"arg1\"><block type=\"math_arithmetic\" id=\"kLh0l,qEVTkVGNQk1yyY\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get\" id=\"J+X4~jiDM6Rq}8/Us,f-\"><field name=\"VAR\" id=\"n.}uiRJo9h4?045:wh`:\">scanned_rfid_cards</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"=+VY8xef[y{oVC+IFC,`\"><field name=\"NUM\">1</field></block></value></block></value></block></value><next><block type=\"controls_if\" id=\"s{!RX)DgR8=,a!h*$o}p\"><value name=\"IF0\"><block type=\"rfid_cardOn\" id=\"C@Fg~~EFk2A`N1w-pk]|\"><field name=\"RFID\">rfid_4</field></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"A/Nwv)*%$jsd4bum7(T_\"><field name=\"VAR\" id=\"Zh8tg8;,s?pg*@(Ud+xO\">rfid_cardid</field><value name=\"VALUE\"><block type=\"rfid_uid\" id=\"N{a?otay[N{~mlzAG#Uc\"><field name=\"RFID\">rfid_4</field></block></value><next><block type=\"label_set_text\" id=\"L5ly0dgn$)/EMw]8_j;E\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"rfid_uid\" id=\"lo}FVl#GN9adPW:k+WLU\"><field name=\"RFID\">rfid_4</field></block></value><next><block type=\"variables_set\" id=\"]NSGw%(x1=voO`;s!C{s\"><field name=\"VAR\" id=\"BZ/Irnpux5}21$r=7;!#\">rfid_cardid_length</field><value name=\"VALUE\"><block type=\"text_length\" id=\"MNE=z~$eAbl]spmy|6w:\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"G%bawHL*?I@3Fc-?5NO(\"><field name=\"VAR\" id=\"Zh8tg8;,s?pg*@(Ud+xO\">rfid_cardid</field></block></value></block></value><next><block type=\"variables_set\" id=\"f*/AgDbiAYv:A3=hfX%I\"><field name=\"VAR\" id=\"20snMrxwv/_by8pCD`i=\">rfid_id</field><comment pinned=\"false\" h=\"80\" w=\"160\">Convert RFID ID to bytearray, for later signing and verification.</comment><value name=\"VALUE\"><block type=\"bytearray_create_empty\" id=\"|jYQC@pmot}Z+CoX*82$\"><value name=\"LENGTH\"><shadow type=\"math_number\" id=\"?W])COI!1Di#w1$,`{2+\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\" id=\"PO1].+Q@/cQ719Wa?Mgs\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"math_number\" id=\"tBYI|^LXLq6-;zI0Hhq6\"><field name=\"NUM\">32</field></block></value><value name=\"B\"><block type=\"convent_int\" id=\"^!{6lb4QCY]CUqT-^=-.\"><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"]f-2F|w+gABwxo:n#R=p\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"variables_get\" id=\"eYIU-rZxtbUMQG!~g5L(\"><field name=\"VAR\" id=\"BZ/Irnpux5}21$r=7;!#\">rfid_cardid_length</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"pf[!cirWOsH7`}cku+`5\"><field name=\"NUM\">2</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"controls_for\" id=\"0QHLa*nAsRNi?^wK{Yg!\"><field name=\"VAR\" id=\";YQ(ZA%ofsmODX/aEC+#\">k</field><value name=\"FROM\"><block type=\"math_number\" id=\"iA)1b%P~g2I@8I4d/y9e\"><field name=\"NUM\">0</field></block></value><value name=\"TO\"><block type=\"math_arithmetic\" id=\"ekj3l[@.^l,`UyveOtLR\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"variables_get\" id=\"Dc4I0B2cB^lsIwAq*Yp6\"><field name=\"VAR\" id=\"BZ/Irnpux5}21$r=7;!#\">rfid_cardid_length</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"u`;:v.?/Q}b|oQ9/nh*U\"><field name=\"NUM\">2</field></block></value></block></value><value name=\"BY\"><block type=\"math_number\" id=\"T*}d#~q10!V|,jb%W7UE\"><field name=\"NUM\">2</field></block></value><statement name=\"DO\"><block type=\"variables_set\" id=\"XFr0tWrE~H[oN?`Jr|KB\"><field name=\"VAR\" id=\"#FNeu=q{GX{^9!u|rS(}\">temp</field><value name=\"VALUE\"><block type=\"text\" id=\"G)_)Tc7RZ:_,-DslM4,@\"><field name=\"TEXT\">0x</field></block></value><next><block type=\"variables_set\" id=\"JZ?p:zQR,^~ZCJ=ZKY_G\"><field name=\"VAR\" id=\"#FNeu=q{GX{^9!u|rS(}\">temp</field><value name=\"VALUE\"><block type=\"text_add\" id=\"uR?lm-^ntjO[Q#FOL]O@\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"KZQ77Vf!94LP@mL;V!Vc\"><field name=\"VAR\" id=\"#FNeu=q{GX{^9!u|rS(}\">temp</field></block></value><value name=\"arg1\"><block type=\"text_charAt\" id=\"Dh:D.*|-XO~%7Z4Pp#Y8\"><mutation at=\"true\"></mutation><field name=\"WHERE\">FROM_START</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"MQ~$Lztg=+Pu?SLV?lK]\"><field name=\"VAR\" id=\"Zh8tg8;,s?pg*@(Ud+xO\">rfid_cardid</field></block></value><value name=\"AT\"><block type=\"variables_get\" id=\"(%VA7.(L(B*IuoOU+YJ*\"><field name=\"VAR\" id=\";YQ(ZA%ofsmODX/aEC+#\">k</field></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"3X|?u7s{(0Ohhs[?7,ZS\"><field name=\"VAR\" id=\"#FNeu=q{GX{^9!u|rS(}\">temp</field><value name=\"VALUE\"><block type=\"text_add\" id=\"lr6R,!cG,PJ`Awg,[6fs\"><value name=\"arg0\"><shadow type=\"text\" id=\".W=%f^g%kuqsM@:CfKhk\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"L|6|0v~K2[0[c5]|^J@r\"><field name=\"VAR\" id=\"#FNeu=q{GX{^9!u|rS(}\">temp</field></block></value><value name=\"arg1\"><block type=\"text_charAt\" id=\"wh,zvxu-cr]lc8LoGUTA\"><mutation at=\"true\"></mutation><field name=\"WHERE\">FROM_START</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"X+oWoCfOLO*No~K1wP{3\"><field name=\"VAR\" id=\"Zh8tg8;,s?pg*@(Ud+xO\">rfid_cardid</field></block></value><value name=\"AT\"><block type=\"math_arithmetic\" id=\"bmx`?S#x9EVwV81sj;{U\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get\" id=\"Bi#6Z08Tx`kmR-^MhgDt\"><field name=\"VAR\" id=\";YQ(ZA%ofsmODX/aEC+#\">k</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"$3+1s*0NZf/l@`gS_kq:\"><field name=\"NUM\">1</field></block></value></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"0ictP7)oAZhJ.yV?lD#[\"><field name=\"VAR\" id=\"/|.0,,jV4uEoxy`ChB6M\">temp_encoded</field><value name=\"VALUE\"><block type=\"convent_int\" id=\"0as2*zhG0W)1aL-}L2H~\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"{$/Q9EiKvb(sj]-qMeIy\"><field name=\"VAR\" id=\"#FNeu=q{GX{^9!u|rS(}\">temp</field></block></value></block></value><next><block type=\"bytearray_append\" id=\":WDcMNSl5!0zz^@J@~`k\"><field name=\"VAR\" id=\"20snMrxwv/_by8pCD`i=\">rfid_id</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"C*dCBI49HG7/(76Yzk#4\"><field name=\"VAR\" id=\"/|.0,,jV4uEoxy`ChB6M\">temp_encoded</field></block></value><next><block type=\"timer_delay\" id=\"ar!7xaCsGC?Cf_R$/RkO\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"lnEX.$jz0UCYzg,2xkiG\"><field name=\"NUM\">0.1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\" id=\"UN8h+HN=erk@7N/ivUWD\"><value name=\"IF0\"><block type=\"unit_id_create_signature\" id=\"fE]8u$1RYe9fZJHi^rql\"><field name=\"VARNAME\">ID_0</field><value name=\"data\"><block type=\"variables_get\" id=\")_Ai%4K5[v~|Cvo9p5+e\"><field name=\"VAR\" id=\"20snMrxwv/_by8pCD`i=\">rfid_id</field></block></value><value name=\"slot\"><shadow type=\"math_number\" id=\"4=,/G6t2Fz@1?TSC27jK\"><field name=\"NUM\">0x0000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"label_set_text\" id=\"hzh%p0gH#Db_{jM0egX-\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"j(zx{7snZbA6H(tCbkXT\"><field name=\"TEXT\">Signature: Start</field></shadow></value><next><block type=\"variables_set\" id=\"$FA=.hm{zrj2*bSTrW%y\"><field name=\"VAR\" id=\",FrhZc]2j|ex/|$d_DHk\">signature</field><value name=\"VALUE\"><block type=\"unit_id_signature\" id=\"%gu,m{08%ExcySO/$`-u\"><field name=\"VARNAME\">ID_0</field></block></value><next><block type=\"timer_delay\" id=\"u6+5N{JY6h!cFd`@dg;5\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"/]F9)f?I=~`Ee_zQ1J=.\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"label_set_text\" id=\"M(;:OSOH96tmpfGu6.)Q\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\")c1G$np`tJ=:v3Hh.=w/\"><field name=\"TEXT\">Signature: OK</field></shadow></value><next><block type=\"timer_delay\" id=\"g0p[B91tQ+{vb#X+L8~P\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"Y@0~ek2BL$~71v86Rrk5\"><field name=\"NUM\">1</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><next><block type=\"lists_setIndex\" id=\"A8F6Az1jd*a+.Z_v.nF}\"><mutation at=\"false\"></mutation><field name=\"MODE\">INSERT</field><field name=\"WHERE\">FIRST</field><value name=\"LIST\"><block type=\"variables_get\" id=\"SYn7@%,|xuhV6nuK7Pdd\"><field name=\"VAR\" id=\"v}zCZQ`K2X(zMYv)LPIa\">valid_rfid_cards</field></block></value><value name=\"TO\"><block type=\"variables_get\" id=\"oe_hAsIIP^7hzjViSCDl\"><field name=\"VAR\" id=\",FrhZc]2j|ex/|$d_DHk\">signature</field></block></value><next><block type=\"variables_set\" id=\"9Mmrc~)=0|W-L`Ecl9g1\"><field name=\"VAR\" id=\"n.}uiRJo9h4?045:wh`:\">scanned_rfid_cards</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"R}fzbdp;RgqrE/NfFw[t\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get\" id=\":QeY)e;;2L9kn`6SSMx!\"><field name=\"VAR\" id=\"n.}uiRJo9h4?045:wh`:\">scanned_rfid_cards</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"Mk[fO4?1#@=0~V?^jiqd\"><field name=\"NUM\">1</field></block></value></block></value><next><block type=\"timer_delay\" id=\"Tl*vYoEhu:7?fv}#x0eA\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"a{yd(wi)|(e`vLfWVEa$\"><field name=\"NUM\">1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement><next><block type=\"timer_delay\" id=\"B#x`_tv#?b{/Bg^/WOuQ\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"GC1:LF.c4arnn[/ygw5p\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"label_set_text\" id=\"_lHz7Obf!{r@36Zh4bC1\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"57RC(y`_z`,AST8k)?i1\"><field name=\"TEXT\">All card signatures saved.</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"timer_delay\" id=\"ECtQz]K36VBbThHqYU:Y\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"-Bhzq@Nd%HWj/%TWW-,l\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"label_set_text\" id=\"%iXy(VrYs*dph7m%=`}m\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"n-1^?z/2Pdl3?NPyZ!=P\"><field name=\"TEXT\">Beginning Verification</field></shadow><block type=\"text_add\" id=\"V-@C}$eeb/t9zjw*p9b]\"><value name=\"arg0\"><shadow type=\"text\" id=\"Tp/IkPY;rkLS}wva]V/^\"><field name=\"TEXT\"></field></shadow><block type=\"text\" id=\"CLB$Q.p2Kc$YE{cSRj~Q\"><field name=\"TEXT\">Number of scanned cards </field></block></value><value name=\"arg1\"><block type=\"lists_length\" id=\"#)!~5mNBrM{Sfo+pYW#+\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"{GC_;mKT;o%wVU|+Zw0p\"><field name=\"VAR\" id=\"v}zCZQ`K2X(zMYv)LPIa\">valid_rfid_cards</field></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"_vzlW)FF97|(V^du9T!o\"><field name=\"VAR\" id=\"n.}uiRJo9h4?045:wh`:\">scanned_rfid_cards</field><value name=\"VALUE\"><block type=\"math_number\" id=\"0wZ{-H!t9=A59};u9]{j\"><field name=\"NUM\">0</field></block></value><next><block type=\"timer_delay\" id=\"q?ctlh:U)MxJi0JJozW$\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"P;~x19r4^Ip:Tekh6PCG\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"label_set_text\" id=\"Qh1WY%$*)9@_#zU%,?Lp\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"d{s!t}@@HgjKV)S*m7LA\"><field name=\"TEXT\">Beginning Verification</field></shadow></value><next><block type=\"controls_whileUntil\" id=\"n][.gY0G=!K^gu`)`Xn}\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_boolean\" id=\"bUz}Kq13ScGUN~K#i,tR\"><field name=\"BOOL\">TRUE</field></block></value><statement name=\"DO\"><block type=\"label_set_text\" id=\"/Z[f1kq/1rj?hE6yjADH\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text\" id=\"jTeu%-{sWr!tVWGx${Dc\"><field name=\"TEXT\">Read to scan card</field></block></value><next><block type=\"controls_if\" id=\"[d/qgQZATz1:$eDY,BS_\"><value name=\"IF0\"><block type=\"rfid_cardOn\" id=\"D^AU]i{{]BbF=[uRjpu!\"><field name=\"RFID\">rfid_4</field></block></value><statement name=\"DO0\"><block type=\"label_set_text\" id=\"#if#FXf@~.Lk%pwC=GH`\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"CwL:ru::]]n_KNdNf1jq\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text_add\" id=\"stTzd|(bZQ8H,o`6J`$o\"><value name=\"arg0\"><shadow type=\"text\" id=\"Ho^IB5,me6]_?zv2;Y/$\"><field name=\"TEXT\"></field></shadow><block type=\"text\" id=\"xL|EKOQ)tL9/k7nTr=[!\"><field name=\"TEXT\">Scanned card </field></block></value><value name=\"arg1\"><block type=\"math_arithmetic\" id=\"@rKxe`@9|4XPTZb#2?,S\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"convent_int\" id=\"F]t,(QQnH0W:]HlU=h~Q\"><value name=\"VALUE\"><block type=\"variables_get\" id=\")A)AQC+L.8GWCn!OQ/y)\"><field name=\"VAR\" id=\"n.}uiRJo9h4?045:wh`:\">scanned_rfid_cards</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"0D$mAI6-X9:3Q:(ZC?jE\"><field name=\"NUM\">1</field></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"~0Qi.By7-3Y[Ur.n%3X|\"><field name=\"VAR\" id=\"Zh8tg8;,s?pg*@(Ud+xO\">rfid_cardid</field><value name=\"VALUE\"><block type=\"rfid_uid\" id=\"Ss@,=@f!``jvwye):^?0\"><field name=\"RFID\">rfid_4</field></block></value><next><block type=\"label_set_text\" id=\"Ub$=^]pjh8;/NPm9U9r+\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"rfid_uid\" id=\"Kb3N`jPY_VF/-xh,,},p\"><field name=\"RFID\">rfid_4</field></block></value><next><block type=\"variables_set\" id=\"Pg]:)Ieit=6`pBkZN-}v\"><field name=\"VAR\" id=\"BZ/Irnpux5}21$r=7;!#\">rfid_cardid_length</field><value name=\"VALUE\"><block type=\"text_length\" id=\"BmBiKiN*i#}NgQQ~*Y%5\"><value name=\"VALUE\"><block type=\"variables_get\" id=\";)f?5/SRB%MsG|HriV*i\"><field name=\"VAR\" id=\"Zh8tg8;,s?pg*@(Ud+xO\">rfid_cardid</field></block></value></block></value><next><block type=\"variables_set\" id=\"KLE0^zOg1l#NBTA~.hRe\"><field name=\"VAR\" id=\"20snMrxwv/_by8pCD`i=\">rfid_id</field><comment pinned=\"false\" h=\"80\" w=\"160\">Convert RFID ID to bytearray, for later signing and verification.</comment><value name=\"VALUE\"><block type=\"bytearray_create_empty\" id=\"oOzd;%4=Mz9Hty5GN-7w\"><value name=\"LENGTH\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\" id=\"{P7$2:I+5S:,}jYLv5?{\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"math_number\" id=\"|!R-i#*JC/aJM/Q,wsMQ\"><field name=\"NUM\">32</field></block></value><value name=\"B\"><block type=\"convent_int\" id=\"Kqi`8`0#xs(dwm?D7`o9\"><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"WQ|FPEbErdK_kV[QYzS;\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"variables_get\" id=\"_33bHD)L_RUFW@;(!]x:\"><field name=\"VAR\" id=\"BZ/Irnpux5}21$r=7;!#\">rfid_cardid_length</field></block></value><value name=\"B\"><block type=\"math_number\" id=\";]`]{ly[yE?ZLe@U0mdy\"><field name=\"NUM\">2</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"controls_for\" id=\"rv[^$fX*gp5Ijfy_ZH33\"><field name=\"VAR\" id=\";YQ(ZA%ofsmODX/aEC+#\">k</field><value name=\"FROM\"><block type=\"math_number\" id=\"wksmVL%KS*%oi6Wu_3{Y\"><field name=\"NUM\">0</field></block></value><value name=\"TO\"><block type=\"math_arithmetic\" id=\"~!#.2P}3[91:e2%lfqQF\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"variables_get\" id=\"UHa[Gi=YX2dVs,O$5BnJ\"><field name=\"VAR\" id=\"BZ/Irnpux5}21$r=7;!#\">rfid_cardid_length</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"KLuS?dh1XpI_wbyjZo:d\"><field name=\"NUM\">2</field></block></value></block></value><value name=\"BY\"><block type=\"math_number\" id=\";X8~2Z%ECUs3.k],IMjG\"><field name=\"NUM\">2</field></block></value><statement name=\"DO\"><block type=\"variables_set\" id=\"X-gs}b169_i|pN4C)%62\"><field name=\"VAR\" id=\"#FNeu=q{GX{^9!u|rS(}\">temp</field><value name=\"VALUE\"><block type=\"text\" id=\"5K,UoTOE(mVbkQ9YxX0$\"><field name=\"TEXT\">0x</field></block></value><next><block type=\"variables_set\" id=\"F.F%zhUA,/o?Cf!3E_-[\"><field name=\"VAR\" id=\"#FNeu=q{GX{^9!u|rS(}\">temp</field><value name=\"VALUE\"><block type=\"text_add\" id=\"[jyubjb2Y{%:Zu@cHVM`\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"?bPz]B8V@=F:~@tV@H~:\"><field name=\"VAR\" id=\"#FNeu=q{GX{^9!u|rS(}\">temp</field></block></value><value name=\"arg1\"><block type=\"text_charAt\" id=\"sH]EqdvDl5Ywnt1X0NDl\"><mutation at=\"true\"></mutation><field name=\"WHERE\">FROM_START</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"gVT}l^G!V8wi(,.$o^(?\"><field name=\"VAR\" id=\"Zh8tg8;,s?pg*@(Ud+xO\">rfid_cardid</field></block></value><value name=\"AT\"><block type=\"variables_get\" id=\"$4B*4zCDf=w=e?70El3i\"><field name=\"VAR\" id=\";YQ(ZA%ofsmODX/aEC+#\">k</field></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"?+Hc[!y8@^A!RCytmLzr\"><field name=\"VAR\" id=\"#FNeu=q{GX{^9!u|rS(}\">temp</field><value name=\"VALUE\"><block type=\"text_add\" id=\"$Jr,w]$-rMI#(xCoEt,{\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"i3;.rd=r9]8J**V{~ClX\"><field name=\"VAR\" id=\"#FNeu=q{GX{^9!u|rS(}\">temp</field></block></value><value name=\"arg1\"><block type=\"text_charAt\" id=\"Vlh,wd]#b.+3:;Pxo2}L\"><mutation at=\"true\"></mutation><field name=\"WHERE\">FROM_START</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"SMB@G1,!}`:=jmCOoB)Q\"><field name=\"VAR\" id=\"Zh8tg8;,s?pg*@(Ud+xO\">rfid_cardid</field></block></value><value name=\"AT\"><block type=\"math_arithmetic\" id=\"qzvJ[ly9t:Z}/(X^!-Sd\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get\" id=\"3]8Agp)dQ=dj2@IxC0z1\"><field name=\"VAR\" id=\";YQ(ZA%ofsmODX/aEC+#\">k</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"kXAe^XZU|;blV2RE4:xs\"><field name=\"NUM\">1</field></block></value></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"Sv#hLm84dQ9_AXxYXZ6(\"><field name=\"VAR\" id=\"/|.0,,jV4uEoxy`ChB6M\">temp_encoded</field><value name=\"VALUE\"><block type=\"convent_int\" id=\"`v8ormJGEM6{IMK8=T6(\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"Qotz}7R..@jP~tN3oKz`\"><field name=\"VAR\" id=\"#FNeu=q{GX{^9!u|rS(}\">temp</field></block></value></block></value><next><block type=\"bytearray_append\" id=\"3cpzo0)Efz!WK|!z~MS7\"><field name=\"VAR\" id=\"20snMrxwv/_by8pCD`i=\">rfid_id</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"|)LCf1.?bYPN!awfaaoT\"><field name=\"VAR\" id=\"/|.0,,jV4uEoxy`ChB6M\">temp_encoded</field></block></value><next><block type=\"timer_delay\" id=\"?1ci$120|76)=Ih^s!]B\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"Y-UjW/Df1-i@.]j[QL:K\"><field name=\"NUM\">0.1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"timer_delay\" id=\"2gqx@[7w;^4aX6@+dmDA\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"k5uMFb1%u4W?k`|B?%@a\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"label_set_text\" id=\";2aUiP{~H_wB)v-h^@Rd\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text\" id=\"BJ.Hjo+s;AjLFcBHg!L|\"><field name=\"TEXT\">Begin card verification</field></block></value><next><block type=\"controls_forEach\" id=\"N4fKFa66D_XnmUw%lW{L\"><field name=\"VAR\" id=\",FrhZc]2j|ex/|$d_DHk\">signature</field><value name=\"LIST\"><block type=\"variables_get\" id=\"vGTW($U6*}8Kj|3%8xnH\"><field name=\"VAR\" id=\"v}zCZQ`K2X(zMYv)LPIa\">valid_rfid_cards</field></block></value><statement name=\"DO\"><block type=\"label_set_text\" id=\"|%P198HULsV6/l`b{e:T\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"kiERymDFc:eN![Mso:[U\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"variables_get\" id=\"!u7P#e*P(O+RFl61L|,M\"><field name=\"VAR\" id=\",FrhZc]2j|ex/|$d_DHk\">signature</field></block></value><next><block type=\"controls_if\" id=\"i]ID1$!AXiIP6_w`D|S!\"><value name=\"IF0\"><block type=\"unit_id_verify_signature\" id=\"pIh0f?:!#D7/aU#71m@]\"><field name=\"VARNAME\">ID_0</field><value name=\"message\"><block type=\"variables_get\" id=\"OP8fFXS7LmRe)Az1CCz*\"><field name=\"VAR\" id=\"20snMrxwv/_by8pCD`i=\">rfid_id</field></block></value><value name=\"signature\"><block type=\"variables_get\" id=\")zQRwjo|^cE}ven?ML(1\"><field name=\"VAR\" id=\",FrhZc]2j|ex/|$d_DHk\">signature</field></block></value><value name=\"publicKey\"><block type=\"variables_get\" id=\"UMZ_b8VS(egQ+KrleeX%\"><field name=\"VAR\" id=\"9lQorfWP-_00hQ/fhx`O\">public</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\")FSTgm+@Y[*nqvq#9y}i\"><field name=\"VAR\" id=\"n.}uiRJo9h4?045:wh`:\">scanned_rfid_cards</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\";_2vZy]1av?^;qOTrtZN\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get\" id=\"G;[zmaASi*V[6x+A5^xW\"><field name=\"VAR\" id=\"n.}uiRJo9h4?045:wh`:\">scanned_rfid_cards</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"-p9{v3,l6UK$Hm(`*E;A\"><field name=\"NUM\">1</field></block></value></block></value><next><block type=\"label_set_text\" id=\"qCQ8C/D+GVaT2nDwqsmF\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text\" id=\"`c{D-o^pX1*5WcZufVE{\"><field name=\"TEXT\">Verify Sucess</field></block></value></block></next></block></statement><next><block type=\"timer_delay\" id=\"{B%~L#Of?1Eb{9Pm#rIp\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"(_oBQp?5_wj7n]V/+^9.\"><field name=\"NUM\">1</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\" id=\"9I,^}9NRP09)bG%ABRhg\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"tyh/|)HzZvdw!ush:A/R\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"/QD24}s[euSjnN?T$LQN\"><field name=\"VAR\" id=\"n.}uiRJo9h4?045:wh`:\">scanned_rfid_cards</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"Bp5Wh5x($Q`7H4/ISE*-\"><field name=\"VAR\" id=\"m#uyya}H$87cK*ECb0`+\">number_of_valid_rfid_cards</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_flow_statements\" id=\"R[!MI_M%o(R?-bMQ4sOI\"><field name=\"FLOW\">BREAK</field></block></statement></block></next></block></next></block></statement><next><block type=\"timer_delay\" id=\"?3B]bg[qs}Yp%sy~@nmF\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"(`q2PMC/*+_29uwn]^PV\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"label_set_text\" id=\"n|j}X.u|/Zb{{}H)iUpS\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"5R[y*$$tG84y#2H[kP#0\"><field name=\"TEXT\">All cards verified successfully.</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1697092791748,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"Yi16n7zg2WI2uzbyqbgYHeu7bkd3cbWh","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":["imu"],"cbIdList_":[],"eventCBIdList_":[],"apikey":"7006DD0C","uuid":"d6626164-63c8-403f-8ea6-2e34b19d6290"}